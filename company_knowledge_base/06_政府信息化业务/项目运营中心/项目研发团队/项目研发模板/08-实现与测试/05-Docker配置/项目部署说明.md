# 项目部署说明

## 文件组织结构

本项目采用标准化的目录结构来管理部署相关的文档和脚本，确保开发环境和生产环境的一致性。

### 部署文档位置

| 文件类型 | 文件路径 | 用途说明 |
|---------|---------|---------|
| 部署指南 | `docs/06-实现与测试/05-Docker配置/nebula-graph-deployment-guide.md` | Nebula Graph社区版WSL部署详细指南 |
| 部署脚本 | `scripts/deploy/local/deploy-nebula.sh` | Nebula Graph一键部署脚本 |
| 管理脚本 | `scripts/deploy/local/manage-nebula.sh` | Nebula Graph服务管理脚本 |
| Studio配置 | `scripts/deploy/local/docker-compose.studio.yml` | Nebula Studio可视化界面配置 |

### 环境分类

#### 1. 本地开发环境 (Local)
- **目录**: `scripts/deploy/local/`
- **用途**: 开发人员本地WSL环境部署
- **包含文件**:
  - `deploy-nebula.sh` - 一键部署脚本
  - `manage-nebula.sh` - 服务管理脚本
  - `docker-compose.studio.yml` - Studio可视化配置

#### 2. 测试环境 (Staging)
- **目录**: `scripts/deploy/staging/`
- **用途**: 集成测试环境部署
- **特点**: 接近生产环境的配置

#### 3. 生产环境 (Production)
- **目录**: `scripts/deploy/production/`
- **用途**: 正式生产环境部署
- **特点**: 高可用、安全加固配置

## 使用流程

### 开发环境部署

1. **准备环境**
   ```bash
   # 切换到部署目录
   cd scripts/deploy/local
   
   # 给脚本执行权限
   chmod +x deploy-nebula.sh manage-nebula.sh
   ```

2. **执行部署**
   ```bash
   # 一键部署Nebula Graph
   ./deploy-nebula.sh
   ```

3. **管理服务**
   ```bash
   # 查看服务状态
   ./manage-nebula.sh status
   
   # 启动服务
   ./manage-nebula.sh start
   
   # 停止服务
   ./manage-nebula.sh stop
   ```

### 生产环境部署

生产环境部署需要根据具体环境调整配置，建议参考各环境的部署脚本模板。

## 文档维护

### 更新部署指南
当部署流程或配置发生变化时，需要更新：
- `docs/06-实现与测试/05-Docker配置/nebula-graph-deployment-guide.md`

### 添加新环境
当需要支持新的部署环境时：
1. 在 `scripts/deploy/` 下创建对应环境目录
2. 复制并修改相应脚本
3. 更新部署指南文档

## 最佳实践

1. **版本控制**: 所有部署脚本和配置都应纳入版本控制
2. **文档同步**: 脚本更新后及时更新相关文档
3. **环境隔离**: 不同环境的配置严格分离
4. **备份策略**: 定期备份重要配置和数据

## 故障排除

常见问题请参考部署指南中的故障排除章节，或检查对应环境的日志文件。